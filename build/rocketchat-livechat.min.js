!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="livechat/",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"validCallbacks",(function(){return vt}));var o,r,i,a,u,c=function(t){return{all:t=t||new Map,on:function(e,n){var o=t.get(e);o&&o.push(n)||t.set(e,[n])},off:function(e,n){var o=t.get(e);o&&o.splice(o.indexOf(n)>>>0,1)},emit:function(e,n){(t.get(e)||[]).slice().map((function(t){t(n)})),(t.get("*")||[]).slice().map((function(t){t(e,n)}))}}},l={},s=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(t,e){for(var n in e)t[n]=e[n];return t}function p(t){var e=t.parentNode;e&&e.removeChild(t)}function _(t,e,n){var o,r=arguments,i={};for(o in e)"key"!==o&&"ref"!==o&&(i[o]=e[o]);if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(r[o]);if(null!=n&&(i.children=n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===i[o]&&(i[o]=t.defaultProps[o]);return h(t,i,e&&e.key,e&&e.ref,null)}function h(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(a.__v=a),o.vnode&&o.vnode(a),a}function y(t){return t.children}function m(t,e){this.props=t,this.context=e}function g(t,e){if(null==e)return t.__?g(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?g(t):null}function v(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return v(t)}}function b(t){(!t.__d&&(t.__d=!0)&&r.push(t)&&!w.__r++||a!==o.debounceRendering)&&((a=o.debounceRendering)||i)(w)}function w(){for(var t;w.__r=r.length;)t=r.sort((function(t,e){return t.__v.__b-e.__v.__b})),r=[],t.some((function(t){var e,n,o,r,i,a,u;t.__d&&(a=(i=(e=t).__v).__e,(u=e.__P)&&(n=[],(o=d({},i)).__v=o,r=j(u,i,o,e.__n,void 0!==u.ownerSVGElement,null,n,null==a?g(i):a),E(n,i),r!=a&&v(i)))}))}function S(t,e,n,o,r,i,a,u,c,f){var d,_,m,v,b,w,S,O=o&&o.__k||s,P=O.length;for(c==l&&(c=null!=a?a[0]:P?g(o,0):null),n.__k=[],d=0;d<e.length;d++)if(null!=(v=n.__k[d]=null==(v=e[d])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v?h(null,v,null,null,v):Array.isArray(v)?h(y,{children:v},null,null,null):null!=v.__e||null!=v.__c?h(v.type,v.props,v.key,null,v.__v):v)){if(v.__=n,v.__b=n.__b+1,null===(m=O[d])||m&&v.key==m.key&&v.type===m.type)O[d]=void 0;else for(_=0;_<P;_++){if((m=O[_])&&v.key==m.key&&v.type===m.type){O[_]=void 0;break}m=null}b=j(t,v,m=m||l,r,i,a,u,c,f),(_=v.ref)&&m.ref!=_&&(S||(S=[]),m.ref&&S.push(m.ref,null,v),S.push(_,v.__c||b,v)),null!=b?(null==w&&(w=b),c=k(t,v,m,O,a,b,c),f||"option"!=n.type?"function"==typeof n.type&&(n.__d=c):t.value=""):c&&m.__e==c&&c.parentNode!=t&&(c=g(m))}if(n.__e=w,null!=a&&"function"!=typeof n.type)for(d=a.length;d--;)null!=a[d]&&p(a[d]);for(d=P;d--;)null!=O[d]&&W(O[d],O[d]);if(S)for(d=0;d<S.length;d++)T(S[d],S[++d],S[++d])}function k(t,e,n,o,r,i,a){var u,c,l;if(void 0!==e.__d)u=e.__d,e.__d=void 0;else if(r==n||i!=a||null==i.parentNode)t:if(null==a||a.parentNode!==t)t.appendChild(i),u=null;else{for(c=a,l=0;(c=c.nextSibling)&&l<o.length;l+=2)if(c==i)break t;t.insertBefore(i,a),u=a}return void 0!==u?u:i.nextSibling}function O(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===f.test(e)?n+"px":null==n?"":n}function P(t,e,n,o,r){var i,a,u,c,l;if(r?"className"===e&&(e="class"):"class"===e&&(e="className"),"style"===e)if(i=t.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof o&&(i.cssText="",o=null),o)for(c in o)n&&c in n||O(i,c,"");if(n)for(l in n)o&&n[l]===o[l]||O(i,l,n[l])}else"o"===e[0]&&"n"===e[1]?(a=e!==(e=e.replace(/Capture$/,"")),u=e.toLowerCase(),e=(u in t?u:e).slice(2),n?(o||t.addEventListener(e,C,a),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,C,a)):"list"!==e&&"tagName"!==e&&"form"!==e&&"type"!==e&&"size"!==e&&"download"!==e&&!r&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function C(t){this.l[t.type](o.event?o.event(t):t)}function x(t,e,n){var o,r;for(o=0;o<t.__k.length;o++)(r=t.__k[o])&&(r.__=t,r.__e&&("function"==typeof r.type&&r.__k.length>1&&x(r,e,n),e=k(n,r,r,t.__k,null,r.__e,e),"function"==typeof t.type&&(t.__d=e)))}function j(t,e,n,r,i,a,u,c,l){var s,f,p,_,h,g,v,b,w,k,O,P=e.type;if(void 0!==e.constructor)return null;(s=o.__b)&&s(e);try{t:if("function"==typeof P){if(b=e.props,w=(s=P.contextType)&&r[s.__c],k=s?w?w.props.value:s.__:r,n.__c?v=(f=e.__c=n.__c).__=f.__E:("prototype"in P&&P.prototype.render?e.__c=f=new P(b,k):(e.__c=f=new m(b,k),f.constructor=P,f.render=M),w&&w.sub(f),f.props=b,f.state||(f.state={}),f.context=k,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=P.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,P.getDerivedStateFromProps(b,f.__s))),_=f.props,h=f.state,p)null==P.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==P.getDerivedStateFromProps&&b!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(b,k),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(b,f.__s,k)||e.__v===n.__v){f.props=b,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,f.__h.length&&u.push(f),x(e,c,t);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(b,f.__s,k),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(_,h,g)}))}f.context=k,f.props=b,f.state=f.__s,(s=o.__r)&&s(e),f.__d=!1,f.__v=e,f.__P=t,s=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=d(d({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(g=f.getSnapshotBeforeUpdate(_,h)),O=null!=s&&s.type==y&&null==s.key?s.props.children:s,S(t,Array.isArray(O)?O:[O],e,n,r,i,a,u,c,l),f.base=e.__e,f.__h.length&&u.push(f),v&&(f.__E=f.__=null),f.__e=!1}else null==a&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=A(n.__e,e,n,r,i,a,u,l);(s=o.diffed)&&s(e)}catch(t){e.__v=null,o.__e(t,e,n)}return e.__e}function E(t,e){o.__c&&o.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){o.__e(t,e.__v)}}))}function A(t,e,n,o,r,i,a,u){var c,f,d,p,_,h=n.props,y=e.props;if(r="svg"===e.type||r,null!=i)for(c=0;c<i.length;c++)if(null!=(f=i[c])&&((null===e.type?3===f.nodeType:f.localName===e.type)||t==f)){t=f,i[c]=null;break}if(null==t){if(null===e.type)return document.createTextNode(y);t=r?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,y.is&&{is:y.is}),i=null,u=!1}if(null===e.type)h!==y&&t.data!==y&&(t.data=y);else{if(null!=i&&(i=s.slice.call(t.childNodes)),d=(h=n.props||l).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!u){if(null!=i)for(h={},_=0;_<t.attributes.length;_++)h[t.attributes[_].name]=t.attributes[_].value;(p||d)&&(p&&d&&p.__html==d.__html||(t.innerHTML=p&&p.__html||""))}(function(t,e,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in e||P(t,i,null,n[i],o);for(i in e)r&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||P(t,i,e[i],n[i],o)})(t,y,h,r,u),p?e.__k=[]:(c=e.props.children,S(t,Array.isArray(c)?c:[c],e,n,o,"foreignObject"!==e.type&&r,i,a,l,u)),u||("value"in y&&void 0!==(c=y.value)&&c!==t.value&&P(t,"value",c,h.value,!1),"checked"in y&&void 0!==(c=y.checked)&&c!==t.checked&&P(t,"checked",c,h.checked,!1))}return t}function T(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){o.__e(t,n)}}function W(t,e,n){var r,i,a;if(o.unmount&&o.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||T(r,null,e)),n||"function"==typeof t.type||(n=null!=(i=t.__e)),t.__e=t.__d=void 0,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){o.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(a=0;a<r.length;a++)r[a]&&W(r[a],e,n);null!=i&&p(i)}function M(t,e,n){return this.constructor(t,n)}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={src:"rocketchat",fn:t,args:e};window.parent.postMessage(n,"*")}o={__e:function(t,e){for(var n,o;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(o=!0,n.setState(n.constructor.getDerivedStateFromError(t))),null!=n.componentDidCatch&&(o=!0,n.componentDidCatch(t)),o)return b(n.__E=n)}catch(e){t=e}throw t}},m.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(n,this.props)),t&&d(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),b(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),b(this))},m.prototype.render=y,r=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,w.__r=0,u=0;function R(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=N(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function I(t){return function(t){if(Array.isArray(t))return z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||N(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){if(t){if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var B=window,J=B.localStorage,K=B.sessionStorage;function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){X(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ot(t);if(e){var r=ot(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return nt(this,n)}}function nt(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rt=new(function(){function t(){var e,n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.localStorageKey,a=void 0===i?"store":i,u=r.dontPersist,l=void 0===u?[]:u;H(this,t),Object.assign(this,c()),this.localStorageKey=a,this.dontPersist=l;try{e=JSON.parse(J.getItem(this.localStorageKey))}catch(t){e={}}finally{e="object"===G(e)?e:{}}this._state=U(U({},o),e),window.addEventListener("storage",(function(t){if(t.key===n.localStorageKey){if(!t.newValue)return location.reload();var e=JSON.parse(t.newValue);n.setStoredState(e),n.emit("storageSynced")}})),window.addEventListener("load",(function(){var t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);K.setItem("sessionId",t);var e=n._state.openSessionIds,o=void 0===e?[]:e;n.setState({openSessionIds:[t].concat(I(o))})})),window.addEventListener("visibilitychange",(function(){!n._state.minimized&&!n._state.triggered&&D("openWidget"),n._state.iframe.visible?D("showWidget"):D("hideWidget")})),window.addEventListener("beforeunload",(function(){var t=K.getItem("sessionId"),e=n._state.openSessionIds,o=void 0===e?[]:e;n.setState({openSessionIds:o.filter((function(e){return e!==t}))})}))}var e,n,o;return e=t,(n=[{key:"state",get:function(){return this._state}},{key:"persist",value:function(){var t,e=U({},this._state),n=R(this.dontPersist);try{for(n.s();!(t=n.n()).done;)delete e[t.value]}catch(t){n.e(t)}finally{n.f()}J.setItem(this.localStorageKey,JSON.stringify(e))}},{key:"setState",value:function(t){var e=this._state;this._state=U(U({},e),t),this.persist(),this.emit("change",[this._state,e,t])}},{key:"setStoredState",value:function(t){var e,n=this._state,o={},r=R(this.dontPersist);try{for(r.s();!(e=r.n()).done;){var i=e.value;o[i]=n[i]}}catch(t){r.e(t)}finally{r.f()}this._state=U(U({},t),o),this.emit("change",[this._state,n])}}])&&V(e.prototype,n),o&&V(e,o),t}())({token:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),typing:[],config:{messages:{},settings:{},theme:{},filters:[],triggers:[],departments:[],resources:{}},messages:[],user:null,sound:{src:"",enabled:!0,play:!1},iframe:{guest:{},theme:{},visible:!0},gdpr:{accepted:!1},alerts:[],visible:!0,minimized:!0,unread:null,chatClosed:!1},{dontPersist:["messages","typing","loading","alerts","unread","noMoreMessages","modal","idleTimeoutTimers"]});var it=function(t){var e={},n={__c:"__cC"+u++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var o,r=this;return this.getChildContext||(o=[],this.getChildContext=function(){return e[n.__c]=r,e},this.shouldComponentUpdate=function(t){r.props.value!==t.value&&o.some((function(e){e.context=t.value,b(e)}))},this.sub=function(t){o.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){o.splice(o.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}();(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(i,t);var e,n,o,r=et(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=r.call.apply(r,[this].concat(n))).state=Q(Q({},rt.state),{},{dispatch:rt.setState.bind(rt)}),t.handleStoreChange=function(){t.setState(Q({},rt.state))},t.render=function(e){var n=e.children;return _(it.Provider,{value:t.state},n)},t}return e=i,(n=[{key:"componentDidMount",value:function(){rt.on("change",this.handleStoreChange)}},{key:"componentWillUnmount",value:function(){rt.off("change",this.handleStoreChange)}}])&&Z(e.prototype,n),o&&Z(e,o),i}(m)).displayName="StoreProvider";it.Consumer;function at(t){return function(t){if(Array.isArray(t))return ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var lt=function(){};window.RocketChat=window.RocketChat||{_:[]};var st,ft,dt,pt,_t,ht={},yt=[],mt=!1,gt=!1,vt=["chat-maximized","chat-minimized","chat-started","chat-ended","pre-chat-form-submit","offline-form-submit","show-widget","hide-widget","assign-agent","agent-status-change","queue-position-change","no-agent-online"],bt=c();function wt(t,e){return-1!==vt.indexOf(t)&&bt.on(t,e)}function St(t,e){void 0!==e?bt.emit(t,e):bt.emit(t)}function kt(t,e){if(!mt)return yt.push([t,e]);var n={src:"rocketchat",fn:t,args:e};ft.contentWindow.postMessage(n,"*")}var Ot=function(t){gt&&t?(pt=document.documentElement.scrollTop,dt=document.body.style.cssText,document.body.style.cssText+="overflow: hidden; height: 100%; width: 100%;"):(document.body.style.cssText=dt,gt&&(document.documentElement.scrollTop=pt)),t?(st.style.left=gt?"0":"auto",st.style.height=gt?"100%":"".concat(16+_t+16+54,"px"),st.style.width=gt?"100%":"".concat(397,"px")):(st.style.left="auto",st.style.width="".concat(86,"px"),st.style.height="".concat(86,"px"))},Pt=function(){"opened"!==st.dataset.state&&(_t=525,Ot(!0),st.dataset.state="opened",ft.focus(),St("chat-maximized"))};function Ct(){"closed"!==st.dataset.state&&(Ot(!1),st.dataset.state="closed",St("chat-minimized"))}var xt={popup:null,ready:function(){mt=!0,yt.length>0&&(yt.forEach((function(t){kt.apply(this,t)})),yt=[])},minimizeWindow:function(){Ct()},restoreWindow:function(){xt.popup&&!0!==xt.popup.closed&&(xt.popup.close(),xt.popup=null),Pt()},openPopout:function(){Ct(),xt.popup=window.open("".concat(ht.url).concat(ht.url.lastIndexOf("?")>-1?"&":"?","mode=popout"),"livechat-popout","width=".concat(365,", height=").concat(_t,", toolbars=no")),xt.popup.focus()},openWidget:function(){Pt()},resizeWidget:function(t){!function(t){_t=t,Ot(!0),st.dataset.state="triggered"}(t)},removeWidget:function(){document.body.removeChild(st)},callback:function(t,e){St(t,e)},showWidget:function(){ft.style.display="initial",St("show-widget")},hideWidget:function(){ft.style.display="none",St("hide-widget")},showPrint:function(){rt.setState({hidePrint:!1})},hidePrint:function(){rt.setState({hidePrint:!0})},resetDocumentStyle:function(){document.body.style.cssText=dt},setFullScreenDocumentMobile:function(){document.body.style.cssText+=gt&&"overflow: hidden; height: 100%; width: 100%;"}};function jt(t){kt("pageVisited",{change:t,location:JSON.parse(JSON.stringify(document.location)),title:document.title})}function Et(t,e,n){void 0===n&&(n=!0),kt("setCustomField",[t,e,n])}function At(t){kt("setTheme",t)}function Tt(t){kt("setDepartment",t)}function Wt(t){kt("setGuestToken",t)}function Mt(t){kt("setGuestName",t)}function Dt(t){kt("setGuestEmail",t)}function Rt(t){kt("registerGuest",t)}function It(t){kt("setAgent",t)}function Nt(t){kt("setLanguage",t)}var zt={href:null,title:null},Lt=function(t){t&&(ht.url=t,function(t){(st=document.createElement("div")).className="rocketchat-widget",st.style.position="fixed",st.style.width="".concat(86,"px"),st.style.height="".concat(86,"px"),st.style.maxHeight="100vh",st.style.bottom="0",st.style.right="0",st.style.zIndex="12345",st.dataset.state="closed";var e=document.createElement("div");e.className="rocketchat-container",e.style.width="100%",e.style.height="100%",(ft=document.createElement("iframe")).id="rocketchat-iframe",ft.allowTransparency="true",ft.src=t,ft.name=window.RocketChat.parentURL,ft.style.width="100%",ft.style.height="100%",ft.style.border="none",ft.style.backgroundColor="transparent",e.appendChild(ft),st.appendChild(e),document.body.appendChild(st);var n=function(t){var e=t.matches;st&&(gt=e,Ot("opened"===st.dataset.state),kt("setExpanded",gt))},o=window.matchMedia("screen and (max-device-width: 480px)");o.addListener(n),n(o)}(t),window.addEventListener("message",(function(t){if("object"===ct(t.data)&&void 0!==t.data.src&&"rocketchat"===t.data.src&&void 0!==xt[t.data.fn]&&"function"==typeof xt[t.data.fn]){var e=[].concat(t.data.args||[]);lt.apply(void 0,["api.".concat(t.data.fn)].concat(at(e))),xt[t.data.fn].apply(null,e)}}),!1),setInterval((function(){document.location.href!==zt.href&&(jt("url"),zt.href=document.location.href),document.title!==zt.title&&(jt("title"),zt.title=document.title)}),800))};void 0!==window.initRocket&&(console.warn("initRocket is now deprecated. Please update the livechat code."),Lt(window.initRocket[0])),void 0!==window.RocketChat.url&&Lt(window.RocketChat.url);var Ut=window.RocketChat._;window.RocketChat._.push=function(t){t.call(window.RocketChat.livechat)},window.RocketChat=window.RocketChat._.push,window.RocketChat.livechat={pageVisited:jt,setCustomField:Et,initialize:function(t){for(var e in t)if(t.hasOwnProperty(e))switch(e){case"customField":var n=t[e];Et(n.key,n.value,n.overwrite);continue;case"setCustomFields":if(!Array.isArray(t[e])){console.log("Error: Invalid parameters. Value must be an array of objects");continue}t[e].forEach((function(t){Et(t.key,t.value,t.overwrite)}));continue;case"theme":At(t[e]);continue;case"department":Tt(t[e]);continue;case"guestToken":Wt(t[e]);continue;case"guestName":Mt(t[e]);continue;case"guestEmail":Dt(t[e]);continue;case"registerGuest":Rt(t[e]);continue;case"language":Nt(t[e]);continue;case"agent":It(t[e]);continue;default:continue}},setTheme:At,setDepartment:Tt,clearDepartment:function(){kt("clearDepartment")},setGuestToken:Wt,setGuestName:Mt,setGuestEmail:Dt,setAgent:It,registerGuest:Rt,setLanguage:Nt,showWidget:function(){kt("showWidget")},hideWidget:function(){kt("hideWidget")},showPrint:function(){kt("showPrint")},hidePrint:function(){kt("hidePrint")},maximizeWidget:function(){kt("maximizeWidget")},minimizeWidget:function(){kt("minimizeWidget")},onChatMaximized:function(t){wt("chat-maximized",t)},onChatMinimized:function(t){wt("chat-minimized",t)},onChatStarted:function(t){wt("chat-started",t)},onChatEnded:function(t){wt("chat-ended",t)},onPrechatFormSubmit:function(t){wt("pre-chat-form-submit",t)},onOfflineFormSubmit:function(t){wt("offline-form-submit",t)},onWidgetShown:function(t){wt("show-widget",t)},onWidgetHidden:function(t){wt("hide-widget",t)},onAssignAgent:function(t){wt("assign-agent",t)},onAgentStatusChange:function(t){wt("agent-status-change",t)},onQueuePositionChange:function(t){wt("queue-position-change",t)},onServiceOffline:function(t){wt("no-agent-online",t)}},Ut.forEach((function(t){t.call(window.RocketChat.livechat)}))}]);
//# sourceMappingURL=rocketchat-livechat.min.js.map